webpackJsonp([0],[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o={Comments_Sended:"commentSended",Favoriation_Sended:"FavoriationSended",Viwer_Added:"viwerAdded"},r=function(){function e(){i(this,e)}return a(e,null,[{key:"on",value:function(e,n){$(document).on(e,n)}},{key:"trigger",value:function(e,n){$(document).trigger(e,n)}},{key:"off",value:function(e,n){$(document).off(e,n)}},{key:"EventConstant",get:function(){return o}}]),e}();n.default=r},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=t(2),r=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){i(this,e)}return a(e,null,[{key:"adjustLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=r.default.screenHeight(),t=$(".comment-textbox"),i=t.height()+18;e&&(i=-1*i+5),t.css("top",n-i);var a=$(".comment-list"),o=a.height();a.css("top",n-o-i);var u=$(".favorite-animation-container"),s=u.height();u.css("top",n-s-i)}}]),e}();n.default=u},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=function(){function e(){i(this,e)}return a(e,null,[{key:"prefixedEvent",value:function(n,t,i){for(var a=["webkit","moz","MS","o",""],o=0;o<a.length;o++)a[o]||(t=t.toLowerCase()),e.addEvent(n,a[o]+t,i)}},{key:"addEvent",value:function(e,n,t){e.addEventListener&&e.addEventListener(n,t,!1),e.attachEvent&&e.attachEvent("on"+n,t)}},{key:"screenHeight",value:function(){return document.body.clientHeight||document.documentElement.clientHeight||window.screen.height||window.innerHeight}},{key:"isX5",value:function(){var e=navigator.userAgent;return/micromessenger/i.test(e)||/qqbrowser/i.test(e)}}]),e}();n.default=o},function(e,n,t){e.exports=t(4)},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=t(5),o=i(a),r=t(7),u=i(r),s=t(9),l=i(s),c=t(12),f=i(c),d=t(14),v=i(d),m=t(16),h=i(m),p=t(2),y=(i(p),t(1)),g=i(y);t(17);var b,_,k;$(function(){new o.default({id:"J_prismPlayer",autoplay:!0,isLive:!0,height:"100%",width:"100%",playsinline:!0,source:"https://common.qupai.me/player/big_buck_bunny.mp4",useH5Prism:!0,useFlashPrism:!1,cover:"http://cdnoss.youkouyang.com/cover.png",x5_type:"h5",x5_fullscreen:!0,skinLayout:[{name:"bigPlayButton",align:"blabs",x:"70",y:"150"},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay",align:"cc"}]});v.default.setup(),b=new l.default,_=new f.default,k=new u.default,k.setup({nickName:"小鱼儿",avatar:"./images/avatar.jpg",likeNum:2346,viewerNum:12390}),g.default.adjustLayout(),h.default.hide()})},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=t(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t(6);var u=function(){function e(n){i(this,e),this.player,this.props=n,this.props.isLive=!0,this._setup(),this._bindEvent()}return a(e,[{key:"loadByUrl",value:function(e){this.player&&this.player.loadByUrl(e)}},{key:"dispose",value:function(){this.player&&(this.player.dispose(),Zepto("#"+this.props.id).empty())}},{key:"_setup",value:function(){this.player=new Aliplayer(this.props)}},{key:"_bindEvent",value:function(){var e=this;this.player.on("ready",function(e){console.log("ready")}),this.player.on("play",function(e){console.log("play")}),this.player.on("ended",function(e){console.log("ended")}),this.player.on("pause",function(e){console.log("pause")}),this.player.on("requestFullScreen",function(n){r.default.adjustLayout(!0),e.player.cancelFullScreen()}),this.player.tag.addEventListener("x5videoexitfullscreen",function(){WeixinJSBridge&&WeixinJSBridge.call("closeWindow")}),$(document).on("WeixinJSBridgeReady",function(){$(e.player.el()).find("video")[0].play()})}},{key:"_unbindEvent",value:function(){this.player.off("ready",function(e){console.log("ready")}),this.player.off("play",function(e){console.log("play")}),this.player.off("ended",function(e){console.log("ended")}),this.player.off("pause",function(e){console.log("pause")})}}]),e}();n.default=u},function(e,n){},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=t(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t(8);var u=function(){function e(){i(this,e),this.backup=[],this.max_count=5}return a(e,[{key:"setup",value:function(e){var n=$(".video-header");n.find(".user-name").text(e.nickName),n.find(".user-head-img").attr("src",e.avatar),this._updateLikeNumber(e.likeNum),this._updateViewNumber(e.viewerNum),this._getAudiences();var t=this;r.default.on(r.default.EventConstant.Favoriation_Sended,function(){t._updateLikeNumber(1)}),r.default.on(r.default.EventConstant.Viwer_Added,function(){t._updateViewNumber(1)})}},{key:"_updateLikeNumber",value:function(e){var n=$(".video-header .user-favorite"),t=parseInt(n.text());n.text(t+e)}},{key:"_updateViewNumber",value:function(n,t){if(null!=n){var i=$(".video-header span.audience-count"),a=parseInt(i.text());i.text(a+n+"人")}var o=$(".audience-detail");if(e.computeLeft($(".video-header .author"),o),t)if(0===t.type)this.isFullHeaders?($(".audience-detail .ellipsis").addClass("show"),this.backup.push(t)):(e._createImgHeader(o,t.avatar,t.uid),this.isFullHeaders=o.find(".audience-header").length==this.max_count);else if(this.backup.length>0){var r=this.backup.pop(),u=o.find('img[data-uid="'+t.uid+'"]');u.attr("src",r.avatar),u.attr("data-uid",r.uid)}else o.find('img[data-uid="'+t.uid+'"]').remove(),$(".audience-detail .ellipsis").addClass("hide"),this.isFullHeaders=!1}},{key:"_getAudiences",value:function(n,t){for(var i=1;i<10;i++)e._createImgHeader($(".audience-detail"),"./images/avatar.jpg",i)}}],[{key:"_createImgHeader",value:function(e,n,t){var i=$('<img  class="audience-header">');i.attr("src",n),i.attr("data-uid",t),e.prepend(i)}},{key:"computeLeft",value:function(e,n){var t=e.width()+20/68*window.rem;n.css("left",t)}}]),e}();n.default=u},function(e,n){},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),r=t(10),u=i(r),s=t(0),l=i(s);t(11);var c=function(){function e(n,t){var i=this;a(this,e),this.comments=[],this.liveComment=new u.default(n,t);l.default.on(l.default.EventConstant.Comments_Sended,function(e,n){i.add(n)})}return o(e,[{key:"clear",value:function(){this.stop(),this.liveComment.clear()}},{key:"add",value:function(e){this.isStop||(this.comments.push(e),this.isWorking||this._wake())}},{key:"stop",value:function(){this.comments=[],this.isWorking=!1,this.isStop=!0,clearInterval(this.interval)}},{key:"start",value:function(){this.isStop=!1}},{key:"_wake",value:function(){this.isWorking=!0,this.interval=setInterval(this._handle(),500)}},{key:"_handle",value:function(){var e=this;return function(){if(e.comments.length>0){e.liveComment.isFull()&&e.liveComment.send("");var n=e.comments.shift();e.liveComment.send(n)}else e.isWorking=!1,clearInterval(e.interval)}}}]),e}();n.default=c},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=function(){function e(n){i(this,e),this.createEl(),this._setupComment(),this.maxTopRow=null,this.colorIndex=1}return a(e,[{key:"createEl",value:function(e){this.comments=$(".comment-list"),this.container=this.comments.find(".comment-container")}},{key:"clear",value:function(){this.comments.empty()}},{key:"isFull",value:function(){return 0==this.comments.find(".empty-comment-row").length}},{key:"send",value:function(e){var n=this.comments.children(".comment-row"),t=void 0;e&&(t=n.length>0?$(n[0]):this._createEmptyRow(),this._assignValues(t,e),this._move(t))}},{key:"_move",value:function(e){e.show();var n=this.comments.height(),t=this.container.height();e.height();this.container.append(e);var i=this.container.children().first();t-n>i.height()&&(this._removeClass(i.find(".comment-right")),i.hide(),this.comments.append(i))}},{key:"_assignValues",value:function(e,n){e.find(".comment-left").text(n.name);var t=e.find(".comment-right");t.html(n.comment),t.addClass(this._getClass())}},{key:"_createEmptyRow",value:function(){var e=$('<div class="comment-row"><span class="comment-left"></span><span class="comment-right"></div>');return e.hide(),this.comments.append(e),e}},{key:"_setupComment",value:function(){for(var e=0;e<20;e++)this._createEmptyRow()}},{key:"_getClass",value:function(e){this.colorIndex>4&&(this.colorIndex=1);var n="comment-color"+this.colorIndex;return this.colorIndex++,n}},{key:"_removeClass",value:function(e){e.removeClass("comment-color1"),e.removeClass("comment-color2"),e.removeClass("comment-color3"),e.removeClass("comment-color4")}}]),e}();n.default=o},function(e,n){},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),r=t(2),u=i(r),s=t(0),l=i(s);t(13);var c=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["xin.png","xin.png","xin.png","xin.png","xin.png","xin.png"];a(this,e),this.animateContainer=$(".favorite-animation-container"),this.imgNames=n,this.index=0;var t=this;l.default.on(l.default.EventConstant.Favoriation_Sended,function(){t.favoriate()})}return o(e,[{key:"favoriate",value:function(){var e=this.imgNames.length;this.index=this.index<e?this.index:0,name=this.imgNames[this.index];var n=$('<img src="./images/'+name+'" class="favorite-animation">');this.animateContainer.append(n),this.index++,u.default.prefixedEvent(n[0],"animationend",function(){n.remove()})}}]),e}();n.default=c},function(e,n){},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),r=t(0),u=i(r),s=t(1);i(s);t(15);var l=function(){function e(){a(this,e)}return o(e,null,[{key:"setup",value:function(){$(".comment-textbox .send-btn").click(function(){var e=$(".comment-textbox .send-txt"),n=e.val();u.default.trigger(u.default.EventConstant.Comments_Sended,{name:"小鱼儿",comment:n}),e.val("")}),$(".comment-textbox .favoriate-send").click(function(){u.default.trigger(u.default.EventConstant.Favoriation_Sended)})}}]),e}();n.default=l},function(e,n){},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=function(){function e(){i(this,e)}return a(e,null,[{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0!=e&&$(".loading-container").css("opacity",e),$(".loading-container").addClass("show")}},{key:"hide",value:function(){$(".loading-container").css("opacity",0),$(".loading-container").addClass("hide")}}]),e}();n.default=o},function(e,n){}],[3]);